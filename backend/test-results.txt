Test run for /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Engine.Tests/bin/Debug/net8.0/Pss.FhirProcessor.Engine.Tests.dll (.NETCoreApp,Version=v8.0)
Test run for /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/Pss.FhirProcessor.Playground.Api.Tests.dll (.NETCoreApp,Version=v8.0)
Microsoft (R) Test Execution Command Line Tool Version 17.8.0 (arm64)
Microsoft (R) Test Execution Command Line Tool Version 17.8.0 (arm64)Copyright (c) Microsoft Corporation.  All rights reserved.

Copyright (c) Microsoft Corporation.  All rights reserved.


Starting test execution, please wait...Starting test execution, please wait...

A total of 1 test files matched the specified pattern.
A total of 1 test files matched the specified pattern.
[16:16:39 INF] Starting FHIR Processor V2 API
[16:16:39 INF] Playground configured with KnownFhirStructureHintProvider + FallbackToFirst policy for tolerant navigation
[16:16:39 INF] Terminology services configured with data path: /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/data/terminology
[16:16:39 INF] 
FHIR Processor V2 API started successfully
[16:16:39 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware
Failed to determine the https port for redirect.
[16:16:39 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Initializing FHIR R4 Model Resolver...
[16:16:39 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
FHIR R4 Model Resolver initialized successfully
[16:16:39 WRN] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Project b0978ae0-96ef-4acd-9a65-847b1179b3fb not found
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP GET /api/projects/b0978ae0-96ef-4acd-9a65-847b1179b3fb responded 404 in 76.0515 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 129b08be-9626-40bd-96d0-252b99f26900 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/129b08be-9626-40bd-96d0-252b99f26900.json
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 129b08be-9626-40bd-96d0-252b99f26900 with name Test Project
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 24.6769 ms
[xUnit.net 00:00:01.00]     Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromRuleErrorsAsync_NoMessage_HasMessage [SKIP]
[xUnit.net 00:00:01.00]     Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromRuleErrorsAsync_AllFieldsMapped_RoundTrip [SKIP]
  Skipped Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromRuleErrorsAsync_NoMessage_HasMessage [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromRuleErrorsAsync_AllFieldsMapped_RoundTrip [1 ms]
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/129b08be-9626-40bd-96d0-252b99f26900/rules responded 400 in 25.0073 ms
[xUnit.net 00:00:01.01]     Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromCodeMasterErrorsAsync_MissingQuestion_CreatesCorrectError [SKIP]
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project 129b08be-9626-40bd-96d0-252b99f26900
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated CodeMaster for project 129b08be-9626-40bd-96d0-252b99f26900
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/129b08be-9626-40bd-96d0-252b99f26900/codemaster responded 200 in 5.0247 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Exported rule package for project 129b08be-9626-40bd-96d0-252b99f26900
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP GET /api/projects/129b08be-9626-40bd-96d0-252b99f26900/export responded 200 in 5.0028 ms
     Warning:
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.

     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.

     A paid commercial license supports the development and continued increasing support of
     Fluent Assertions users under both commercial and community licenses. Help us
     keep Fluent Assertions at the forefront of unit testing.

     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project bfa9369b-6d62-466c-ba97-cc19e8f5f019 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/bfa9369b-6d62-466c-ba97-cc19e8f5f019.json
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project bfa9369b-6d62-466c-ba97-cc19e8f5f019 with name Test Project
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.3192 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project bfa9369b-6d62-466c-ba97-cc19e8f5f019
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated sample bundle for project bfa9369b-6d62-466c-ba97-cc19e8f5f019
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/bfa9369b-6d62-466c-ba97-cc19e8f5f019/bundle responded 200 in 4.0715 ms
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/bfa9369b-6d62-466c-ba97-cc19e8f5f019/rules responded 400 in 0.3552 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project bfa9369b-6d62-466c-ba97-cc19e8f5f019, bundleJson length: 360, override: False, mode: default
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project bfa9369b-6d62-466c-ba97-cc19e8f5f019 with bundle of 360 chars
[16:16:39 DBG] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Validation mode: standard, Lint enabled: False
[16:16:39 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT 1: ValidationMode=standard, IsFullAnalysis=False
[16:16:39 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT X: Not in full analysis mode (mode=standard), skipping SpecHint
[16:16:39 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Running JSON Node Structural Validation (Phase A)
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Bundle
[16:16:39 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Bundle
[xUnit.net 00:00:01.06]     Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromRuleErrorsAsync_RequiredRuleMissing_CreatesUnifiedError [SKIP]
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Bundle with 737 elements
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Bundle with max depth 8
  Skipped Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromCodeMasterErrorsAsync_MissingQuestion_CreatesCorrectError [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.UnifiedErrorModelBuilderTests.FromRuleErrorsAsync_RequiredRuleMissing_CreatesUnifiedError [1 ms]
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Bundle
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Bundle
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirEnumIndex
Building enum index for FHIR R4
[16:16:39 DBG] Pss.FhirProcessor.Engine.Services.FhirEnumIndex
Added enum binding for Patient.gender: 4 values, strength=required
[16:16:39 DBG] Pss.FhirProcessor.Engine.Services.FhirEnumIndex
Added enum binding for Observation.status: 8 values, strength=required
[16:16:39 DBG] Pss.FhirProcessor.Engine.Services.FhirEnumIndex
Added enum binding for Bundle.type: 10 values, strength=required
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirEnumIndex
Enum index built for FHIR R4: 3 bindings
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Patient
[16:16:39 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Patient
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Patient with 1330 elements
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Patient with max depth 8
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Patient
[16:16:39 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Patient
[16:16:39 INF] Pss.FhirProcessor.Engine.Validation.JsonNodeStructuralValidator
JSON node structural validation completed: 0 errors found
[16:16:39 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Starting Firely R4 node-based structural validation for 360 chars of JSON
[16:16:39 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Firely validation: Traversed 10 nodes successfully
[16:16:39 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Firely validation completed: 0 structural errors found (0 duplicates suppressed)
[16:16:39 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT 1: RuleSet available: False, Rule count: 0, POCO available: True
[16:16:39 WRN] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT X: Skipping business rules - RuleSet: False, Rules: False, Count: 0
[16:16:39 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation starting with policy: InBundleOnly
[16:16:39 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation complete: 0 errors found
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validation complete for project bfa9369b-6d62-466c-ba97-cc19e8f5f019: 0 errors
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/bfa9369b-6d62-466c-ba97-cc19e8f5f019/validate responded 200 in 283.8742 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 7029cdaa-68df-4e9f-aea9-3bd56888233f at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/7029cdaa-68df-4e9f-aea9-3bd56888233f.json
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 7029cdaa-68df-4e9f-aea9-3bd56888233f with name Concurrent Project 4
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 440ed620-5595-4ae8-9560-4750d126bc6c at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/440ed620-5595-4ae8-9560-4750d126bc6c.json
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 09460874-f82c-4758-8277-0a842d4d77ac at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/09460874-f82c-4758-8277-0a842d4d77ac.json
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 09460874-f82c-4758-8277-0a842d4d77ac with name Concurrent Project 1
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 440ed620-5595-4ae8-9560-4750d126bc6c with name Concurrent Project 0
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.1311 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 74fc9da1-17e7-474f-90fe-848cbcd6fb3f at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/74fc9da1-17e7-474f-90fe-848cbcd6fb3f.json
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 0.9157 ms
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project d537abdc-89f9-49f1-8a14-89fe32a00470 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/d537abdc-89f9-49f1-8a14-89fe32a00470.json
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 74fc9da1-17e7-474f-90fe-848cbcd6fb3f with name Concurrent Project 3
[16:16:39 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project d537abdc-89f9-49f1-8a14-89fe32a00470 with name Concurrent Project 2
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.3135 ms
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.4284 ms
[16:16:39 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.5157 ms
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP GET /api/projects responded 200 in 372.2166 ms
[xUnit.net 00:00:01.71]     Pss.FhirProcessor.Playground.Api.Tests.ProjectApiTests.SaveRules_ValidRules_UpdatesProjectSuccessfully [SKIP]
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 7df08535-26c5-4e1b-aa16-8c6c136a6898 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/7df08535-26c5-4e1b-aa16-8c6c136a6898.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 7df08535-26c5-4e1b-aa16-8c6c136a6898 with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 2.5732 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project 7df08535-26c5-4e1b-aa16-8c6c136a6898
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated sample bundle for project 7df08535-26c5-4e1b-aa16-8c6c136a6898
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/7df08535-26c5-4e1b-aa16-8c6c136a6898/bundle responded 200 in 0.7095 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project aaf81f03-3ea6-4628-93a6-2c0244bfef5d at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/aaf81f03-3ea6-4628-93a6-2c0244bfef5d.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project aaf81f03-3ea6-4628-93a6-2c0244bfef5d with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.3115 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project aaf81f03-3ea6-4628-93a6-2c0244bfef5d
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated CodeMaster for project aaf81f03-3ea6-4628-93a6-2c0244bfef5d
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/aaf81f03-3ea6-4628-93a6-2c0244bfef5d/codemaster responded 200 in 0.6366 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 56ae2824-aaf7-451d-95b3-9d815c56edcd at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/56ae2824-aaf7-451d-95b3-9d815c56edcd.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 56ae2824-aaf7-451d-95b3-9d815c56edcd with name Project 1
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.5946 ms
[xUnit.net 00:00:01.82]     Pss.FhirProcessor.Engine.Tests.LintUnknownElementTests.NestedUnknownField_DetectedCorrectly [SKIP]
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 3aba5a97-f57b-4bb8-83ce-9b75af9ed4c7 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/3aba5a97-f57b-4bb8-83ce-9b75af9ed4c7.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 3aba5a97-f57b-4bb8-83ce-9b75af9ed4c7 with name Project 2
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.3473 ms
  Skipped Pss.FhirProcessor.Engine.Tests.LintUnknownElementTests.NestedUnknownField_DetectedCorrectly [1 ms]
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP GET /api/projects responded 200 in 114.9380 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 130960ad-a517-4c37-9351-a49200114c79 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/130960ad-a517-4c37-9351-a49200114c79.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 130960ad-a517-4c37-9351-a49200114c79 with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.1430 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project 130960ad-a517-4c37-9351-a49200114c79
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated sample bundle for project 130960ad-a517-4c37-9351-a49200114c79
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/130960ad-a517-4c37-9351-a49200114c79/bundle responded 200 in 0.6878 ms
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/130960ad-a517-4c37-9351-a49200114c79/rules responded 400 in 1.1653 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project 130960ad-a517-4c37-9351-a49200114c79, bundleJson length: 395, override: False, mode: default
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project 130960ad-a517-4c37-9351-a49200114c79 with bundle of 395 chars
[16:16:40 DBG] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Validation mode: standard, Lint enabled: False
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT 1: ValidationMode=standard, IsFullAnalysis=False
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT X: Not in full analysis mode (mode=standard), skipping SpecHint
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Running JSON Node Structural Validation (Phase A)
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Bundle with 737 elements
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Bundle with max depth 8
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Patient with 1330 elements
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Patient with max depth 8
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Validation.JsonNodeStructuralValidator
JSON node structural validation completed: 0 errors found
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Starting Firely R4 node-based structural validation for 395 chars of JSON
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Firely validation: Traversed 11 nodes successfully
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Firely validation completed: 0 structural errors found (0 duplicates suppressed)
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT 1: RuleSet available: False, Rule count: 0, POCO available: True
[16:16:40 WRN] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT X: Skipping business rules - RuleSet: False, Rules: False, Count: 0
[16:16:40 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation starting with policy: InBundleOnly
[16:16:40 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation complete: 0 errors found
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validation complete for project 130960ad-a517-4c37-9351-a49200114c79: 0 errors
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/130960ad-a517-4c37-9351-a49200114c79/validate responded 200 in 127.5897 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 4d284a2c-32c6-49fb-a4b3-5c0ed7194d47 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/4d284a2c-32c6-49fb-a4b3-5c0ed7194d47.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 4d284a2c-32c6-49fb-a4b3-5c0ed7194d47 with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.0618 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Deleted project 4d284a2c-32c6-49fb-a4b3-5c0ed7194d47
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Deleted project 4d284a2c-32c6-49fb-a4b3-5c0ed7194d47
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP DELETE /api/projects/4d284a2c-32c6-49fb-a4b3-5c0ed7194d47 responded 204 in 4.0474 ms
[16:16:40 WRN] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Project 4d284a2c-32c6-49fb-a4b3-5c0ed7194d47 not found
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP GET /api/projects/4d284a2c-32c6-49fb-a4b3-5c0ed7194d47 responded 404 in 0.3739 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 30c714e5-462a-48dc-a908-52ee8252fe1c at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/30c714e5-462a-48dc-a908-52ee8252fe1c.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 30c714e5-462a-48dc-a908-52ee8252fe1c with name Project A
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 0.8106 ms
[xUnit.net 00:00:02.10]     Pss.FhirProcessor.Playground.Api.Tests.ProjectApiTests.UpdateOperations_InvalidProjectId_ReturnsNotFound [SKIP]
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project ec5457de-b759-442b-977b-40a1c720c728 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/ec5457de-b759-442b-977b-40a1c720c728.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project ec5457de-b759-442b-977b-40a1c720c728 with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.0064 ms
  Skipped Pss.FhirProcessor.Playground.Api.Tests.ProjectApiTests.SaveRules_ValidRules_UpdatesProjectSuccessfully [1 ms]
  Skipped Pss.FhirProcessor.Playground.Api.Tests.ProjectApiTests.UpdateOperations_InvalidProjectId_ReturnsNotFound [1 ms]
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP GET /api/projects/ec5457de-b759-442b-977b-40a1c720c728 responded 200 in 0.8497 ms
[16:16:40 WRN] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Project fbeb80ad-528a-48ef-8f6e-f5e9acc4932f not found for deletion
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP DELETE /api/projects/fbeb80ad-528a-48ef-8f6e-f5e9acc4932f responded 404 in 0.5424 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project 8acffb03-fc81-408d-aa5f-e5aef47ce463 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/8acffb03-fc81-408d-aa5f-e5aef47ce463.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project 8acffb03-fc81-408d-aa5f-e5aef47ce463 with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.2888 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project 8acffb03-fc81-408d-aa5f-e5aef47ce463
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated sample bundle for project 8acffb03-fc81-408d-aa5f-e5aef47ce463
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/8acffb03-fc81-408d-aa5f-e5aef47ce463/bundle responded 200 in 0.6169 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project 8acffb03-fc81-408d-aa5f-e5aef47ce463, bundleJson length: 706, override: False, mode: default
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project 8acffb03-fc81-408d-aa5f-e5aef47ce463 with bundle of 706 chars
[16:16:40 DBG] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Validation mode: standard, Lint enabled: False
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT 1: ValidationMode=standard, IsFullAnalysis=False
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT X: Not in full analysis mode (mode=standard), skipping SpecHint
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Running JSON Node Structural Validation (Phase A)
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Bundle with 737 elements
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Bundle with max depth 8
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Patient with 1330 elements
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Patient with max depth 8
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Patient
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Observation
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Observation
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Observation with 1455 elements
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Observation with max depth 8
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Observation
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Observation
[16:16:40 INF] Pss.FhirProcessor.Engine.Validation.JsonNodeStructuralValidator
JSON node structural validation completed: 0 errors found
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Starting Firely R4 node-based structural validation for 706 chars of JSON
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Firely validation: Traversed 19 nodes successfully
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Firely validation completed: 0 structural errors found (0 duplicates suppressed)
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT 1: RuleSet available: False, Rule count: 0, POCO available: True
[16:16:40 WRN] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT X: Skipping business rules - RuleSet: False, Rules: False, Count: 0
[16:16:40 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation starting with policy: InBundleOnly
[16:16:40 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference not found: urn:uuid:patient-999, Policy: InBundleOnly
[16:16:40 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation complete: 1 errors found
[16:16:40 DBG] Pss.FhirProcessor.Engine.Navigation.SmartPathNavigationService
DLL-SAFE MODE: Delegating to JsonPointerResolver for path: Observation.subject
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validation complete for project 8acffb03-fc81-408d-aa5f-e5aef47ce463: 1 errors
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/8acffb03-fc81-408d-aa5f-e5aef47ce463/validate responded 200 in 263.2493 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project dbde3e80-75c2-4386-a902-6a13da81ff30 at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/dbde3e80-75c2-4386-a902-6a13da81ff30.json
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project dbde3e80-75c2-4386-a902-6a13da81ff30 with name Test Project
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 1.5950 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project dbde3e80-75c2-4386-a902-6a13da81ff30
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated sample bundle for project dbde3e80-75c2-4386-a902-6a13da81ff30
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/dbde3e80-75c2-4386-a902-6a13da81ff30/bundle responded 200 in 0.7393 ms
[16:16:40 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/dbde3e80-75c2-4386-a902-6a13da81ff30/rules responded 400 in 1.2876 ms
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project dbde3e80-75c2-4386-a902-6a13da81ff30, bundleJson length: 671, override: False, mode: default
[16:16:40 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project dbde3e80-75c2-4386-a902-6a13da81ff30 with bundle of 671 chars
[16:16:40 DBG] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Validation mode: standard, Lint enabled: False
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT 1: ValidationMode=standard, IsFullAnalysis=False
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT X: Not in full analysis mode (mode=standard), skipping SpecHint
[16:16:40 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Running JSON Node Structural Validation (Phase A)
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Bundle
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Bundle with 737 elements
[16:16:40 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Bundle with max depth 8
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Bundle
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Bundle
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Patient with 1330 elements
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Patient with max depth 8
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Observation with 1455 elements
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Observation with max depth 8
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Validation.JsonNodeStructuralValidator
JSON node structural validation completed: 0 errors found
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Starting Firely R4 node-based structural validation for 671 chars of JSON
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Firely validation: Traversed 18 nodes successfully
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Firely validation completed: 0 structural errors found (0 duplicates suppressed)
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT 1: RuleSet available: False, Rule count: 0, POCO available: True
[16:16:41 WRN] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT X: Skipping business rules - RuleSet: False, Rules: False, Count: 0
[16:16:41 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation starting with policy: InBundleOnly
[16:16:41 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference not found: urn:uuid:patient-999, Policy: InBundleOnly
[16:16:41 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation complete: 1 errors found
[16:16:41 DBG] Pss.FhirProcessor.Engine.Navigation.SmartPathNavigationService
DLL-SAFE MODE: Delegating to JsonPointerResolver for path: Observation.subject
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validation complete for project dbde3e80-75c2-4386-a902-6a13da81ff30: 1 errors
[16:16:41 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/dbde3e80-75c2-4386-a902-6a13da81ff30/validate responded 200 in 331.6263 ms
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Created project d8ad1852-714e-4428-9796-12d9b7cfba5d at /Users/tunguyen/Library/CloudStorage/OneDrive-Personal/Synapxe/PSS_V2/fhir_processor_v2/backend/tests/Pss.FhirProcessor.Playground.Api.Tests/bin/Debug/net8.0/ProjectStorage/d8ad1852-714e-4428-9796-12d9b7cfba5d.json
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Created project d8ad1852-714e-4428-9796-12d9b7cfba5d with name Test Project
[16:16:41 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects responded 201 in 0.9135 ms
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Storage.ProjectRepository
Saved project d8ad1852-714e-4428-9796-12d9b7cfba5d
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Updated sample bundle for project d8ad1852-714e-4428-9796-12d9b7cfba5d
[16:16:41 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/d8ad1852-714e-4428-9796-12d9b7cfba5d/bundle responded 200 in 1.1511 ms
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project d8ad1852-714e-4428-9796-12d9b7cfba5d, bundleJson length: 706, override: False, mode: default
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validating project d8ad1852-714e-4428-9796-12d9b7cfba5d with bundle of 706 chars
[16:16:41 DBG] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Validation mode: standard, Lint enabled: False
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT 1: ValidationMode=standard, IsFullAnalysis=False
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== SPECHINT CHECKPOINT X: Not in full analysis mode (mode=standard), skipping SpecHint
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Running JSON Node Structural Validation (Phase A)
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Bundle
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Bundle
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Bundle with 737 elements
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Bundle with max depth 8
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Bundle
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Bundle
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Patient with 1330 elements
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Patient with max depth 8
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Patient
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Loading schema for FHIR R4 resource type: Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FhirR4ModelResolverService
Generating StructureDefinition for Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Building schema tree for Observation with 1455 elements
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Expanding schema for Observation with max depth 8
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.SchemaExpansionService
Schema expansion completed for Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Services.FhirSchemaService
Schema tree built successfully for Observation
[16:16:41 INF] Pss.FhirProcessor.Engine.Validation.JsonNodeStructuralValidator
JSON node structural validation completed: 0 errors found
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Starting Firely R4 node-based structural validation for 706 chars of JSON
[16:16:41 INF] Pss.FhirProcessor.Engine.Firely.FirelyValidationService
Firely validation: Traversed 19 nodes successfully
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
Firely validation completed: 0 structural errors found (0 duplicates suppressed)
[16:16:41 INF] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT 1: RuleSet available: False, Rule count: 0, POCO available: True
[16:16:41 WRN] Pss.FhirProcessor.Engine.Core.ValidationPipeline
=== BUSINESS RULES CHECKPOINT X: Skipping business rules - RuleSet: False, Rules: False, Count: 0
[16:16:41 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation starting with policy: InBundleOnly
[16:16:41 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference not found: urn:uuid:patient-999, Policy: InBundleOnly
[16:16:41 INF] Pss.FhirProcessor.Engine.RuleEngines.ReferenceResolver
Reference validation complete: 1 errors found
[16:16:41 DBG] Pss.FhirProcessor.Engine.Navigation.SmartPathNavigationService
DLL-SAFE MODE: Delegating to JsonPointerResolver for path: Observation.subject
[16:16:41 INF] Pss.FhirProcessor.Playground.Api.Services.ProjectService
Validation complete for project d8ad1852-714e-4428-9796-12d9b7cfba5d: 1 errors
[16:16:41 DBG] Serilog.AspNetCore.RequestLoggingMiddleware
HTTP POST /api/projects/d8ad1852-714e-4428-9796-12d9b7cfba5d/validate responded 200 in 251.6992 ms
=== Encounter Validation Issues ===
Issue: Encounter.status (warning) - HL7 FHIR R4 mandates status field (min=1)
Issue: Encounter.class (warning) - HL7 FHIR R4 mandates class field (min=1)
Total issues: 2
Encounter Status set: False
Encounter Class set: False
[xUnit.net 00:00:03.02]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.PatternOnNonStringField_IsBlocked [SKIP]
[xUnit.net 00:00:03.03]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.ArrayLengthRule_WithIncorrectErrorCode_IsBlocked [SKIP]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.PatternOnNonStringField_IsBlocked [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.ArrayLengthRule_WithIncorrectErrorCode_IsBlocked [1 ms]
[xUnit.net 00:00:03.04]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.PatternRule_WithIncorrectErrorCode_IsBlocked [SKIP]
[xUnit.net 00:00:03.04]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.BroadPath_IsWarning [SKIP]
[xUnit.net 00:00:03.04]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.AllowedValuesRule_WithIncorrectErrorCode_IsBlocked [SKIP]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.PatternRule_WithIncorrectErrorCode_IsBlocked [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.BroadPath_IsWarning [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.AllowedValuesRule_WithIncorrectErrorCode_IsBlocked [1 ms]
[xUnit.net 00:00:03.04]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.CustomFHIRPathRule_WithMissingErrorCode_IsBlocked [SKIP]
[xUnit.net 00:00:03.04]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.FixedValueRule_WithIncorrectErrorCode_IsBlocked [SKIP]
[xUnit.net 00:00:03.05]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.CustomFHIRPathRule_WithUnknownErrorCode_IsBlocked [SKIP]

  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.CustomFHIRPathRule_WithMissingErrorCode_IsBlocked [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.FixedValueRule_WithIncorrectErrorCode_IsBlocked [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.CustomFHIRPathRule_WithUnknownErrorCode_IsBlocked [1 ms]
[xUnit.net 00:00:03.05]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.CodeSystemRule_WithIncorrectErrorCode_IsBlocked [SKIP]
[xUnit.net 00:00:03.05]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.FixedValueOnCodeWithoutSystem_IsWarning [SKIP]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.CodeSystemRule_WithIncorrectErrorCode_IsBlocked [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.FixedValueOnCodeWithoutSystem_IsWarning [1 ms]
[xUnit.net 00:00:03.05]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.GenericWildcard_IsWarning [SKIP]
[xUnit.net 00:00:03.05]     Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.RegexRule_WithIncorrectErrorCode_IsBlocked [SKIP]
Passed!  - Failed:     0, Passed:    15, Skipped:     2, Total:    17, Duration: 2 s - Pss.FhirProcessor.Playground.Api.Tests.dll (net8.0)
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.GenericWildcard_IsWarning [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.Governance.RuleReviewEngineTests.RegexRule_WithIncorrectErrorCode_IsBlocked [1 ms]
[xUnit.net 00:00:03.69]     Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_ComplexNestedPath_ReturnsCorrectPointer [SKIP]
[xUnit.net 00:00:03.69]     Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_WhereClauseFilter_ReturnsMatchingElement [SKIP]
  Skipped Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_ComplexNestedPath_ReturnsCorrectPointer [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_WhereClauseFilter_ReturnsMatchingElement [1 ms]
[xUnit.net 00:00:03.70]     Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_ArrayWithIndex_ReturnsCorrectPointer [SKIP]
[xUnit.net 00:00:03.70]     Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_SimpleDirectProperty_ReturnsCorrectPointer [SKIP]
[xUnit.net 00:00:03.71]     Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_ObservationComponent_ReturnsCorrectPointer [SKIP]
  Skipped Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_ArrayWithIndex_ReturnsCorrectPointer [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_SimpleDirectProperty_ReturnsCorrectPointer [1 ms]
  Skipped Pss.FhirProcessor.Engine.Tests.SmartPathNavigationServiceTests.ResolvePathAsync_ObservationComponent_ReturnsCorrectPointer [1 ms]

Passed!  - Failed:     0, Passed:   642, Skipped:    22, Total:   664, Duration: 5 s - Pss.FhirProcessor.Engine.Tests.dll (net8.0)
